---
title: 深度Redux集成
date: 2019-10-01
categories:
  - react
tags:
  - react
---

## 深度Redux集成

Redux是React生态系统的重要组成部分。对于想要同时使用React Router和Redux的人们，我们希望使其无缝集成。为此，有些人希望：
1. 与商店同步路由数据，并从商店访问路由数据。
2. 能够通过调度动作进行导航。
3. 在Redux devtools中支持对路线更改进行时间旅行调试。

所有这些都需要更深入的集成。

我们的建议是根本不保留您的Redux商店中的路线。这是我们的理由：

1. 路由数据已经成为您关心它的大多数组件的支持。无论是来自商店还是路由器，您组件的代码都基本相同。
2. 在大多数情况下，你可以使用Link，NavLink并Redirect进行导航操作。有时，在某些最初由操作启动的异步任务之后，您可能还需要以编程方式导航。例如，您可以在用户提交登录表单时调度操作。然后，您的thunk，saga或其他异步处理程序对凭据进行身份验证，如果成功，则需要以某种方式导航到新页面。这里的解决方案只是将history对象（提供给所有路由组件）包括在操作的有效负载中，并且异步处理程序可以在适当的时候使用它进行导航。
3. 路线更改对于时间旅行调试不太重要。唯一明显的情况是调试路由器/存储同步中的问题，如果根本不同步它们，则该问题将消失。
但是，如果您强烈希望与商店同步路线，则可以尝试使用Connected React Router，这是React Router和Redux的第三方绑定。
